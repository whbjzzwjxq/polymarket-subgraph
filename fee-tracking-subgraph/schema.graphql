type FeeRefund @entity {
  "Transaction hash + log index"
  id: ID!
  "Order hash"
  orderHash: String!
  "Maker address who received the refund"
  maker: String!
  "Token ID (0 for collateral, otherwise CTF token ID)"
  tokenId: BigInt!
  "Amount refunded"
  refundAmount: BigInt!
  "Original fee amount charged"
  feeAmount: BigInt!
  "Timestamp of the refund event"
  timestamp: BigInt!
  "Transaction hash"
  txHash: String!
  "Block number"
  blockNumber: BigInt!
}

type FeeWithdrawal @entity {
  "Transaction hash + log index"
  id: ID!
  "Token address"
  token: String!
  "Recipient address"
  to: String!
  "Token ID (0 for collateral, otherwise CTF token ID)"
  tokenId: BigInt!
  "Amount withdrawn"
  amount: BigInt!
  "Timestamp of the withdrawal event"
  timestamp: BigInt!
  "Transaction hash"
  txHash: String!
  "Block number"
  blockNumber: BigInt!
}

type GlobalFeeStats @entity {
  "Empty string"
  id: ID!
  "Total refunds given"
  totalRefunds: BigInt!
  "Total fees withdrawn"
  totalWithdrawals: BigInt!
  "Number of refund events"
  refundEventCount: BigInt!
  "Number of withdrawal events"
  withdrawalEventCount: BigInt!
}

type UserFeeStats @entity {
  "User address"
  id: ID!
  "Total refunds received by user"
  totalRefunds: BigInt!
  "Total withdrawals by user"
  totalWithdrawals: BigInt!
  "Number of refund events for user"
  refundEventCount: BigInt!
  "Number of withdrawal events for user"
  withdrawalEventCount: BigInt!
  "Last refund event timestamp"
  lastRefundEvent: BigInt!
  "Last withdrawal event timestamp"
  lastWithdrawalEvent: BigInt!
} 